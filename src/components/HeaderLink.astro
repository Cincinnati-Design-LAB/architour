---
import { Link, LinkProps } from '@components';

export interface Props {
  href: string;
  hideExternalIcon?: LinkProps['hideExternalIcon'];
  annotations?: LinkProps['annotations'];
}

const { href, annotations, hideExternalIcon } = Astro.props;

function addTrailingSlash(link: string) {
  return link.endsWith('/') ? link : `${link}/`;
}

const dynamicClasses =
  addTrailingSlash(Astro.url.pathname) === addTrailingSlash(href) ? 'font-bold' : '';
---

<Link
  href={href}
  className={`hover:opacity-70 duration-300 transition-all ${dynamicClasses}`}
  annotations={annotations}
  hideExternalIcon={hideExternalIcon}
>
  <slot />
</Link>
