---
import BuildingList from '@/src/layouts/BuildingList.astro';
import { getAllBuildingsPages } from '@content';

export async function getStaticPaths() {
  const buildingPages = await getAllBuildingsPages({});
  return buildingPages.map((collection) => ({
    params: { page: collection.page },
    props: { buildings: collection.buildings },
  }));
}

const page = parseInt(Astro.params.page as string);
---

<BuildingList page={page} />
